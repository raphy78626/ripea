CREATE TABLE IPA_ARXIU(ACTIU BIT(1),UNITAT_CODI VARCHAR(9) NOT NULL,ID BIGINT NOT NULL PRIMARY KEY)
CREATE TABLE IPA_BUSTIA(ACTIVA BIT(1),PER_DEFECTE BIT(1),UNITAT_CODI VARCHAR(9) NOT NULL,ID BIGINT NOT NULL PRIMARY KEY)
CREATE TABLE IPA_CARPETA(ID BIGINT NOT NULL PRIMARY KEY)
CREATE TABLE IPA_CONT_LOG(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,OBJECTE_ID VARCHAR(64),OBJECTE_LOG_TIPUS INTEGER,OBJECTE_TIPUS INTEGER,PARAM1 VARCHAR(256),PARAM2 VARCHAR(256),TIPUS INTEGER NOT NULL,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),CONTINGUT_ID BIGINT NOT NULL,CONTMOV_ID BIGINT,PARE_ID BIGINT,CONSTRAINT IPA_PARE_CONTLOG_FK FOREIGN KEY(PARE_ID) REFERENCES IPA_CONT_LOG(ID))
ALTER TABLE IPA_CONT_LOG ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_CONT_MOV(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,COMENTARI VARCHAR(256),CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),CONTINGUT_ID BIGINT NOT NULL,DESTI_ID BIGINT NOT NULL,ORIGEN_ID BIGINT,REMITENT_CODI VARCHAR(64))
ALTER TABLE IPA_CONT_MOV ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_CONTINGUT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ARXIU_DATA_ACT TIMESTAMP,ARXIU_UUID VARCHAR(36),ESBORRAT INTEGER,NOM VARCHAR(256) NOT NULL,TIPUS INTEGER NOT NULL,VERSION BIGINT NOT NULL,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),CONTMOV_ID BIGINT,ENTITAT_ID BIGINT NOT NULL,PARE_ID BIGINT,UNIQUE(NOM,TIPUS,PARE_ID,ENTITAT_ID,ESBORRAT),CONSTRAINT IPA_CONTMOV_CONTINGUT_FK FOREIGN KEY(CONTMOV_ID) REFERENCES IPA_CONT_MOV(ID),CONSTRAINT IPA_PARE_CONTINGUT_FK FOREIGN KEY(PARE_ID) REFERENCES IPA_CONTINGUT(ID))
ALTER TABLE IPA_CONTINGUT ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_DADA(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ORDRE INTEGER,VALOR VARCHAR(256) NOT NULL,VERSION BIGINT NOT NULL,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),METADADA_ID BIGINT NOT NULL,NODE_ID BIGINT NOT NULL,UNIQUE(METADADA_ID,NODE_ID,ORDRE))
ALTER TABLE IPA_DADA ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_DOCUMENT(CUSTODIA_CSV VARCHAR(256),CUSTODIA_DATA TIMESTAMP,CUSTODIA_ID VARCHAR(256),DATA TIMESTAMP NOT NULL,DATA_CAPTURA TIMESTAMP NOT NULL,TIPUS INTEGER NOT NULL,ESTAT INTEGER NOT NULL,FITXER_CONTENT_TYPE VARCHAR(256) NOT NULL,FITXER_CONTINGUT BLOB(1G),FITXER_NOM VARCHAR(256) NOT NULL,NTI_CSV VARCHAR(256),NTI_CSVREG VARCHAR(512),NTI_ESTELA VARCHAR(4) NOT NULL,NTI_IDORIG VARCHAR(48) NOT NULL,NTI_IDENTIF VARCHAR(48) NOT NULL,NTI_ORGANO VARCHAR(9) NOT NULL,NTI_ORIGEN VARCHAR(2) NOT NULL,NTI_TIPDOC VARCHAR(4) NOT NULL,NTI_TIPFIR VARCHAR(4),NTI_VERSION VARCHAR(5) NOT NULL,UBICACIO VARCHAR(255),VERSIO_COUNT INTEGER NOT NULL,VERSIO_DARRERA VARCHAR(32),ID BIGINT NOT NULL PRIMARY KEY,EXPEDIENT_ID BIGINT)
CREATE TABLE IPA_DOCUMENT_ENVIAMENT(DTYPE VARCHAR(31) NOT NULL,ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ASSUMPTE VARCHAR(256) NOT NULL,DATA_ENVIAMENT TIMESTAMP NOT NULL,ESTAT VARCHAR(255) NOT NULL,OBSERVACIONS VARCHAR(256),VERSION BIGINT NOT NULL,DATA_PUBLICACIO TIMESTAMP,TIPUS VARCHAR(255) NOT NULL,AVIS_TEXT VARCHAR(1024),AVIS_TEXTSMS VARCHAR(200),AVIS_TITOL VARCHAR(256),DATA_RECEPCIO TIMESTAMP,DESTIN_DOCNUM VARCHAR(17),DESTIN_DOCTIP INTEGER,DESTIN_EMAIL VARCHAR(160),DESTIN_LLING1 VARCHAR(30),DESTIN_LLING2 VARCHAR(30),DESTIN_MUNCOD VARCHAR(5),DESTIN_NOM VARCHAR(30),DESTIN_PAICOD VARCHAR(4),DESTIN_PRVCOD VARCHAR(2),DESTIN_REPRES BIT(1),ENVIAM_COUNT INTEGER,ENVIAM_DATA TIMESTAMP,ENVIAM_ERROR BIT(1),ENVIAM_ERROR_DESC VARCHAR(2048),IDIOMA VARCHAR(2),LLIBRE_CODI VARCHAR(4),OFICI_TEXT VARCHAR(256),OFICI_TITOL VARCHAR(1024),ORGAN_CODI VARCHAR(9),PROCES_COUNT INTEGER,PROCES_DATA TIMESTAMP,PROCES_ERROR BIT(1),PROCES_ERROR_DESC VARCHAR(2048),REGISTRE_NUM VARCHAR(100),UNITAT_ADM VARCHAR(9),PFIRMES_DATCAD DATE,PFIRMES_DOCTIP VARCHAR(64),PFIRMES_FLUXID VARCHAR(64),PFIRMES_FLUXTIP VARCHAR(255),PFIRMES_ID VARCHAR(64),PFIRMES_PRIORI VARCHAR(255),PFIRMES_RESPONSABLES VARCHAR(1024),CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),DOCUMENT_ID BIGINT NOT NULL,EXPEDIENT_ID BIGINT NOT NULL,UNIQUE(PFIRMES_ID),UNIQUE(EXPEDIENT_ID,DOCUMENT_ID,ASSUMPTE,DATA_ENVIAMENT,DTYPE,TIPUS,DESTIN_DOCTIP,DESTIN_DOCNUM),CONSTRAINT IPA_DOCUMENT_DOCENV_FK FOREIGN KEY(DOCUMENT_ID) REFERENCES IPA_DOCUMENT(ID))
ALTER TABLE IPA_DOCUMENT_ENVIAMENT ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_DOCUMENT_ENVIAMENT_DOC(DOCUMENT_ENVIAMENT_ID BIGINT NOT NULL,DOCUMENT_ID BIGINT NOT NULL,CONSTRAINT FK7149463DD69E7209 FOREIGN KEY(DOCUMENT_ID) REFERENCES IPA_DOCUMENT(ID),CONSTRAINT FK7149463DE24DBA FOREIGN KEY(DOCUMENT_ENVIAMENT_ID) REFERENCES IPA_DOCUMENT_ENVIAMENT(ID))
CREATE TABLE IPA_ENTITAT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ACTIVA BIT(1),CIF VARCHAR(9) NOT NULL,CODI VARCHAR(64) NOT NULL,DESCRIPCIO VARCHAR(1024),NOM VARCHAR(256) NOT NULL,UNITAT_ARREL VARCHAR(9) NOT NULL,VERSION BIGINT NOT NULL,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),UNIQUE(CODI))
ALTER TABLE IPA_ENTITAT ALTER COLUMN ID RESTART WITH 2
CREATE TABLE IPA_ESCRIPTORI(ID BIGINT NOT NULL PRIMARY KEY,USUARI_ID VARCHAR(64) NOT NULL,CONSTRAINT FK985850BB40114F01 FOREIGN KEY(ID) REFERENCES IPA_CONTINGUT(ID))
CREATE TABLE IPA_EXPEDIENT(ANIO INTEGER NOT NULL,ESTAT INTEGER NOT NULL,NTI_CLASIF_SIA VARCHAR(6) NOT NULL,NTI_FECHA_APE TIMESTAMP NOT NULL,NTI_IDENTIF VARCHAR(52) NOT NULL,NTI_ORGANO VARCHAR(9) NOT NULL,NTI_VERSION VARCHAR(5) NOT NULL,SEQUENCIA BIGINT NOT NULL, CODI VARCHAR(256) NOT NULL,SISTRA_BANTEL_NUM VARCHAR(16),SISTRA_CLAU VARCHAR(100),SISTRA_PUBLICAT BIT(1),SISTRA_UNITAT_ADM VARCHAR(9),TANCAT_DATA TIMESTAMP,TANCAT_MOTIU VARCHAR(1024),ID BIGINT NOT NULL PRIMARY KEY,ARXIU_ID BIGINT NOT NULL,CONSTRAINT IPA_ARXIU_EXPEDIENT_FK FOREIGN KEY(ARXIU_ID) REFERENCES IPA_ARXIU(ID))
CREATE TABLE IPA_EXPEDIENT_REL(EXPEDIENT_REL_ID BIGINT NOT NULL,EXPEDIENT_ID BIGINT NOT NULL,CONSTRAINT IPA_EXPEDIENT_REL_EXP_FK FOREIGN KEY(EXPEDIENT_ID) REFERENCES IPA_EXPEDIENT(ID),CONSTRAINT IPA_EXPEDIENT_REL_REL_FK FOREIGN KEY(EXPEDIENT_REL_ID) REFERENCES IPA_EXPEDIENT(ID))
CREATE TABLE IPA_INTERESSAT(DTYPE VARCHAR(31) NOT NULL,ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ADRESA VARCHAR(160),CODI_POSTAL VARCHAR(5),DOCUMENT_NUM VARCHAR(17),DOCUMENT_TIPUS VARCHAR(1),EMAIL VARCHAR(160),ES_REPRESENTANT BIT(1),MUNICIPI VARCHAR(5),NOT_AUTORITZAT BIT(1),OBSERVACIONS VARCHAR(160),PAIS VARCHAR(4),NOT_IDIOMA VARCHAR(2),PROVINCIA VARCHAR(2),TELEFON VARCHAR(20),VERSION BIGINT NOT NULL,RAO_SOCIAL VARCHAR(80),ORGAN_CODI VARCHAR(9),ORGAN_NOM VARCHAR(80),LLINATGE1 VARCHAR(30),LLINATGE2 VARCHAR(30),NOM VARCHAR(30),CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),EXPEDIENT_ID BIGINT NOT NULL,REPRESENTANT_ID BIGINT NOT NULL,UNIQUE(EXPEDIENT_ID,DOCUMENT_NUM,NOM,LLINATGE1,LLINATGE2,RAO_SOCIAL,ORGAN_CODI),CONSTRAINT IPA_EXPEDIENT_INTERESSAT_FK FOREIGN KEY(EXPEDIENT_ID) REFERENCES IPA_EXPEDIENT(ID),CONSTRAINT IPA_INTERESSAT_INTERESSAT_FK FOREIGN KEY(REPRESENTANT_ID) REFERENCES IPA_INTERESSAT(ID))
ALTER TABLE IPA_INTERESSAT ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_METADADA(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ACTIVA BIT(1),CODI VARCHAR(64) NOT NULL,DESCRIPCIO VARCHAR(1024),GLOBAL_DOCUMENT BIT(1),GLOBAL_EXPEDIENT BIT(1),GLOBAL_MULTIPLICITAT VARCHAR(255),GLOBAL_READONLY BIT(1),NOM VARCHAR(256) NOT NULL,TIPUS VARCHAR(255) NOT NULL,VERSION BIGINT NOT NULL,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),ENTITAT_ID BIGINT NOT NULL,UNIQUE(ENTITAT_ID,CODI),CONSTRAINT IPA_ENTITAT_METADADA_FK FOREIGN KEY(ENTITAT_ID) REFERENCES IPA_ENTITAT(ID))
ALTER TABLE IPA_METADADA ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_METADOCUMENT(FIRMA_PASSARELA BIT(1),PASSARELA_CUSTIP VARCHAR(64),FIRMA_PFIRMA BIT(1),GLOBAL_EXPEDIENT BIT(1),GLOBAL_MULTIPLICITAT VARCHAR(255),GLOBAL_READONLY BIT(1),PLANTILLA_CONTENT_TYPE VARCHAR(256),PLANTILLA_CONTINGUT BLOB(1G),PLANTILLA_NOM VARCHAR(256),PORTAFIRMES_CUSTIP VARCHAR(64),PORTAFIRMES_DOCTIP VARCHAR(64),PORTAFIRMES_FLUXID VARCHAR(64),PORTAFIRMES_FLUXTIP VARCHAR(255),PORTAFIRMES_RESPONS VARCHAR(512),ID BIGINT NOT NULL PRIMARY KEY)
CREATE TABLE IPA_METAEXP_SEQ(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ANIO INTEGER,VALOR BIGINT,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),META_EXPEDIENT_ID BIGINT,UNIQUE(ANIO,META_EXPEDIENT_ID))
ALTER TABLE IPA_METAEXP_SEQ ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_METAEXPEDIENT(CLASIF_DOC VARCHAR(30) NOT NULL,CLASIF_SIA VARCHAR(6) NOT NULL,NOTIF_ACTIVA BIT(1) NOT NULL,NOTIF_AVIS_TEXT VARCHAR(1024),NOTIF_AVIS_TEXTSMS VARCHAR(200),NOTIF_AVIS_TITOL VARCHAR(256),NOTIF_LLIBRE_CODI VARCHAR(4),NOTIF_OFICI_TEXT VARCHAR(256),NOTIF_OFICI_TITOL VARCHAR(1024),NOTIF_ORGAN_CODI VARCHAR(9),UNITAT_ADM VARCHAR(9),ID BIGINT NOT NULL PRIMARY KEY,PARE_ID BIGINT,CONSTRAINT IPA_PARE_METAEXP_FK FOREIGN KEY(PARE_ID) REFERENCES IPA_METAEXPEDIENT(ID))
CREATE TABLE IPA_METAEXPEDIENT_ARXIU(ARXIU_ID BIGINT NOT NULL,METAEXPEDIENT_ID BIGINT NOT NULL,CONSTRAINT FKFB572B68C7826551 FOREIGN KEY(METAEXPEDIENT_ID) REFERENCES IPA_METAEXPEDIENT(ID),CONSTRAINT FKFB572B68EA658FB1 FOREIGN KEY(ARXIU_ID) REFERENCES IPA_ARXIU(ID))
CREATE TABLE IPA_METAEXPEDIENT_METADOCUMENT(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,MULTIPLICITAT VARCHAR(255),ORDRE INTEGER NOT NULL,READONLY BIT(1),CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),METADOCUMENT_ID BIGINT NOT NULL,METAEXPEDIENT_ID BIGINT NOT NULL,UNIQUE(METAEXPEDIENT_ID,METADOCUMENT_ID),CONSTRAINT IPA_METADOC_METAEXPDOC_FK FOREIGN KEY(METADOCUMENT_ID) REFERENCES IPA_METADOCUMENT(ID),CONSTRAINT IPA_METAEXP_METAEXPDOC_FK FOREIGN KEY(METAEXPEDIENT_ID) REFERENCES IPA_METAEXPEDIENT(ID))
ALTER TABLE IPA_METAEXPEDIENT_METADOCUMENT ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_METANODE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ACTIU BIT(1),CODI VARCHAR(64) NOT NULL,DESCRIPCIO VARCHAR(1024),NOM VARCHAR(256) NOT NULL,TIPUS VARCHAR(255) NOT NULL,VERSION BIGINT NOT NULL,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),ENTITAT_ID BIGINT NOT NULL,UNIQUE(ENTITAT_ID,CODI,TIPUS),CONSTRAINT IPA_ENTITAT_METANODE_FK FOREIGN KEY(ENTITAT_ID) REFERENCES IPA_ENTITAT(ID))
ALTER TABLE IPA_METANODE ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_METANODE_METADADA(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,MULTIPLICITAT VARCHAR(255) NOT NULL,ORDRE INTEGER NOT NULL,READONLY BIT(1),CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),METADADA_ID BIGINT NOT NULL,METANODE_ID BIGINT NOT NULL,UNIQUE(METANODE_ID,METADADA_ID),CONSTRAINT IPA_METANODE_METADADANODE_FK FOREIGN KEY(METANODE_ID) REFERENCES IPA_METANODE(ID),CONSTRAINT IPA_METADADA_METADADANODE_FK FOREIGN KEY(METADADA_ID) REFERENCES IPA_METADADA(ID))
ALTER TABLE IPA_METANODE_METADADA ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_NODE(ID BIGINT NOT NULL PRIMARY KEY,METANODE_ID BIGINT,CONSTRAINT IPA_METANODE_NODE_FK FOREIGN KEY(METANODE_ID) REFERENCES IPA_METANODE(ID),CONSTRAINT FK6B09CF0740114F01 FOREIGN KEY(ID) REFERENCES IPA_CONTINGUT(ID))
CREATE TABLE IPA_REGISTRE(APLICACIO_CODI VARCHAR(20),APLICACIO_VERSIO VARCHAR(15),ASSUMPTE_CODI VARCHAR(16),ASSUMPTE_DESC VARCHAR(100),ASSUMPTE_TIPUS_CODI VARCHAR(16) NOT NULL,ASSUMPTE_TIPUS_DESC VARCHAR(100),DATA TIMESTAMP NOT NULL,DOCFIS_CODI VARCHAR(1),DOCFIS_DESC VARCHAR(100),ENTITAT_CODI VARCHAR(21) NOT NULL,ENTITAT_DESC VARCHAR(100),EXPEDIENT_NUM VARCHAR(80),EXPOSA VARCHAR(4000),EXTRACTE VARCHAR(240),IDENTIFICADOR VARCHAR(100) NOT NULL,IDIOMA_CODI VARCHAR(2) NOT NULL,IDIOMA_DESC VARCHAR(100),LLIBRE_CODI VARCHAR(4) NOT NULL,LLIBRE_DESC VARCHAR(100),MOTIU_REBUIG VARCHAR(1024),NUMERO INTEGER NOT NULL,OBSERVACIONS VARCHAR(50),OFICINA_CODI VARCHAR(21) NOT NULL,OFICINA_DESC VARCHAR(100),PROCES_DATA TIMESTAMP,PROCES_ERROR VARCHAR(1000),PROCES_ESTAT VARCHAR(16) NOT NULL,PROCES_INTENTS INTEGER,REFERENCIA VARCHAR(16),TIPUS VARCHAR(1) NOT NULL,SOLICITA VARCHAR(4000),TRANSPORT_NUM VARCHAR(20),TRANSPORT_TIPUS_CODI VARCHAR(2),TRANSPORT_TIPUS_DESC VARCHAR(100),UNITAT_ADM VARCHAR(21) NOT NULL,USUARI_CODI VARCHAR(20),USUARI_CONTACTE VARCHAR(160),USUARI_NOM VARCHAR(80),ID BIGINT NOT NULL PRIMARY KEY,REGLA_ID BIGINT,UNIQUE(ENTITAT_CODI,LLIBRE_CODI,TIPUS,NUMERO,DATA),CONSTRAINT FKB80046AE40114F01 FOREIGN KEY(ID) REFERENCES IPA_CONTINGUT(ID))
CREATE TABLE IPA_REGISTRE_ANNEX(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,DATA_CAPTURA TIMESTAMP NOT NULL,FIRMA_CSV VARCHAR(100),FIRMA_FITXER_ARXIU_UUID VARCHAR(100),FIRMA_FITXER_NOM VARCHAR(80),FIRMA_FITXER_TAMANY INTEGER,FIRMA_FITXER_MIME VARCHAR(30),FIRMA_MODE INTEGER,FITXER_ARXIU_UUID VARCHAR(100),FITXER_NOM VARCHAR(80) NOT NULL,FITXER_TAMANY INTEGER NOT NULL,FITXER_MIME VARCHAR(30),LOCALITZACIO VARCHAR(80),NTI_ELABORACIO_ESTAT VARCHAR(2),NTI_TIPUS_DOC VARCHAR(4) NOT NULL,OBSERVACIONS VARCHAR(50),ORIGEN_CIUADM VARCHAR(1) NOT NULL,SICRES_TIPUS_DOC VARCHAR(2) NOT NULL,TIMESTAMP VARCHAR(100),TITOL VARCHAR(200) NOT NULL,VALIDACIO_OCSP VARCHAR(100),VERSION BIGINT NOT NULL,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),REGISTRE_ID BIGINT NOT NULL,UNIQUE(REGISTRE_ID,TITOL,FITXER_ARXIU_UUID,DATA_CAPTURA,ORIGEN_CIUADM,NTI_TIPUS_DOC),CONSTRAINT IPA_ANNEX_REGISTRE_FK FOREIGN KEY(REGISTRE_ID) REFERENCES IPA_REGISTRE(ID))
ALTER TABLE IPA_REGISTRE_ANNEX ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_REGISTRE_INTER(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ADRESA VARCHAR(160),CANAL_PREF VARCHAR(2),CODI_POSTAL VARCHAR(5),DOC_NUM VARCHAR(17),DOC_TIPUS VARCHAR(1),EMAIL VARCHAR(160),EMAIL_HAB VARCHAR(160),LLINATGE1 VARCHAR(30),LLINATGE2 VARCHAR(30),MUNICIPI VARCHAR(5),NOM VARCHAR(30),OBSERVACIONS VARCHAR(160),PAIS VARCHAR(4),PROVINCIA VARCHAR(2),RAO_SOCIAL VARCHAR(80),TELEFON VARCHAR(20),TIPUS VARCHAR(1) NOT NULL,VERSION BIGINT NOT NULL,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),REGISTRE_ID BIGINT NOT NULL,REPRESENTANT_ID BIGINT,REPRESENTAT_ID BIGINT,UNIQUE(REGISTRE_ID,TIPUS,DOC_TIPUS,DOC_NUM),CONSTRAINT IPA_INTERESSAT_REPRESENTAT_FK FOREIGN KEY(REPRESENTAT_ID) REFERENCES IPA_REGISTRE_INTER(ID),CONSTRAINT IPA_INTERESSAT_REPRESENTANT_FK FOREIGN KEY(REPRESENTANT_ID) REFERENCES IPA_REGISTRE_INTER(ID),CONSTRAINT IPA_INTERESSAT_REGISTRE_FK FOREIGN KEY(REGISTRE_ID) REFERENCES IPA_REGISTRE(ID))
ALTER TABLE IPA_REGISTRE_INTER ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_REGLA(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CREATEDDATE TIMESTAMP,LASTMODIFIEDDATE TIMESTAMP,ACTIVA BIT(1),ASSUMPTE_CODI VARCHAR(16) NOT NULL,CONTRASENYA VARCHAR(64),INTENTS INTEGER,URL VARCHAR(256),USUARI VARCHAR(64),DESCRIPCIO VARCHAR(1024),NOM VARCHAR(256) NOT NULL,ORDRE INTEGER NOT NULL,TIPUS VARCHAR(255) NOT NULL,UNITAT_CODI VARCHAR(9),VERSION BIGINT NOT NULL,CREATEDBY_CODI VARCHAR(64),LASTMODIFIEDBY_CODI VARCHAR(64),ARXIU_ID BIGINT,BUSTIA_ID BIGINT,ENTITAT_ID BIGINT NOT NULL,METAEXPEDIENT_ID BIGINT,UNIQUE(ENTITAT_ID,NOM,TIPUS,ASSUMPTE_CODI),CONSTRAINT IPA_METAEXPEDIENT_REGLA_FK FOREIGN KEY(METAEXPEDIENT_ID) REFERENCES IPA_METAEXPEDIENT(ID),CONSTRAINT IPA_BUSTIA_REGLA_FK FOREIGN KEY(BUSTIA_ID) REFERENCES IPA_BUSTIA(ID),CONSTRAINT IPA_ARXIU_REGLA_FK FOREIGN KEY(ARXIU_ID) REFERENCES IPA_ARXIU(ID),CONSTRAINT IPA_ENTITAT_REGLA_FK FOREIGN KEY(ENTITAT_ID) REFERENCES IPA_ENTITAT(ID))
ALTER TABLE IPA_REGLA ALTER COLUMN ID RESTART WITH 1
CREATE TABLE IPA_USUARI(CODI VARCHAR(64) NOT NULL PRIMARY KEY,EMAIL VARCHAR(200),INICIALITZAT BIT(1),NIF VARCHAR(9) NOT NULL,NOM VARCHAR(200),VERSION BIGINT NOT NULL)
CREATE TABLE IPA_ACL_SID(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,PRINCIPAL BIT(1) NOT NULL,SID VARCHAR(100) NOT NULL)
ALTER TABLE IPA_ACL_SID ALTER COLUMN ID RESTART WITH 3
CREATE TABLE IPA_ACL_CLASS(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL PRIMARY KEY,CLASS VARCHAR(100) COLLATE SQL_TEXT_UCC NOT NULL,CONSTRAINT UNIQUE_UK_2 UNIQUE(CLASS))
ALTER TABLE IPA_ACL_CLASS ALTER COLUMN ID RESTART WITH 101
CREATE TABLE IPA_ACL_OBJECT_IDENTITY(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL PRIMARY KEY,OBJECT_ID_CLASS BIGINT NOT NULL,OBJECT_ID_IDENTITY BIGINT NOT NULL,PARENT_OBJECT BIGINT,OWNER_SID BIGINT,ENTRIES_INHERITING BOOLEAN NOT NULL,CONSTRAINT UNIQUE_UK_3 UNIQUE(OBJECT_ID_CLASS,OBJECT_ID_IDENTITY),CONSTRAINT FOREIGN_FK_1 FOREIGN KEY(PARENT_OBJECT) REFERENCES IPA_ACL_OBJECT_IDENTITY(ID),CONSTRAINT FOREIGN_FK_2 FOREIGN KEY(OBJECT_ID_CLASS) REFERENCES IPA_ACL_CLASS(ID),CONSTRAINT FOREIGN_FK_3 FOREIGN KEY(OWNER_SID) REFERENCES IPA_ACL_SID(ID))
ALTER TABLE IPA_ACL_OBJECT_IDENTITY ALTER COLUMN ID RESTART WITH 101
CREATE TABLE IPA_ACL_ENTRY(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 100) NOT NULL PRIMARY KEY,ACL_OBJECT_IDENTITY BIGINT NOT NULL,ACE_ORDER INTEGER NOT NULL,SID BIGINT NOT NULL,MASK INTEGER NOT NULL,GRANTING BOOLEAN NOT NULL,AUDIT_SUCCESS BOOLEAN NOT NULL,AUDIT_FAILURE BOOLEAN NOT NULL,CONSTRAINT UNIQUE_UK_4 UNIQUE(ACL_OBJECT_IDENTITY,ACE_ORDER),CONSTRAINT FOREIGN_FK_4 FOREIGN KEY(ACL_OBJECT_IDENTITY) REFERENCES IPA_ACL_OBJECT_IDENTITY(ID),CONSTRAINT FOREIGN_FK_5 FOREIGN KEY(SID) REFERENCES IPA_ACL_SID(ID))
ALTER TABLE IPA_ACL_ENTRY ALTER COLUMN ID RESTART WITH 102
ALTER TABLE IPA_ARXIU ADD CONSTRAINT FKF57A896E40114F01 FOREIGN KEY(ID) REFERENCES IPA_CONTINGUT(ID)
ALTER TABLE IPA_BUSTIA ADD CONSTRAINT FKBBB3A5D140114F01 FOREIGN KEY(ID) REFERENCES IPA_CONTINGUT(ID)
ALTER TABLE IPA_CARPETA ADD CONSTRAINT FKCD766DD140114F01 FOREIGN KEY(ID) REFERENCES IPA_CONTINGUT(ID)
ALTER TABLE IPA_CONT_LOG ADD CONSTRAINT IPA_CONTMOV_CONTLOG_FK FOREIGN KEY(CONTMOV_ID) REFERENCES IPA_CONT_MOV(ID)
ALTER TABLE IPA_CONT_LOG ADD CONSTRAINT FKBF50AF3CF10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_CONT_LOG ADD CONSTRAINT FKBF50AF3CE9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_CONT_LOG ADD CONSTRAINT FKBF50AF3CFC318F31 FOREIGN KEY(CONTINGUT_ID) REFERENCES IPA_CONTINGUT(ID)
ALTER TABLE IPA_CONT_MOV ADD CONSTRAINT FKBF50B30CF10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_CONT_MOV ADD CONSTRAINT FKBF50B30C33F78CB6 FOREIGN KEY(ORIGEN_ID) REFERENCES IPA_CONTINGUT(ID)
ALTER TABLE IPA_CONT_MOV ADD CONSTRAINT FKBF50B30CE9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_CONT_MOV ADD CONSTRAINT FKBF50B30C7DAD4C39 FOREIGN KEY(DESTI_ID) REFERENCES IPA_CONTINGUT(ID)
ALTER TABLE IPA_CONT_MOV ADD CONSTRAINT IPA_REMITENT_CONTMOV_FK FOREIGN KEY(REMITENT_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_CONT_MOV ADD CONSTRAINT FKBF50B30CFC318F31 FOREIGN KEY(CONTINGUT_ID) REFERENCES IPA_CONTINGUT(ID)
ALTER TABLE IPA_CONTINGUT ADD CONSTRAINT FK2B52F02AF10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_CONTINGUT ADD CONSTRAINT FK2B52F02AE9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_CONTINGUT ADD CONSTRAINT IPA_ENTITAT_CONTINGUT_FK FOREIGN KEY(ENTITAT_ID) REFERENCES IPA_ENTITAT(ID)
ALTER TABLE IPA_DADA ADD CONSTRAINT IPA_NODE_DADA_FK FOREIGN KEY(NODE_ID) REFERENCES IPA_NODE(ID)
ALTER TABLE IPA_DADA ADD CONSTRAINT FK6B050EBFF10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_DADA ADD CONSTRAINT FK6B050EBFE9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_DADA ADD CONSTRAINT IPA_METADADA_DADA_FK FOREIGN KEY(METADADA_ID) REFERENCES IPA_METADADA(ID)
ALTER TABLE IPA_DOCUMENT ADD CONSTRAINT IPA_EXPEDIENT_DOCUMENT_FK FOREIGN KEY(EXPEDIENT_ID) REFERENCES IPA_EXPEDIENT(ID)
ALTER TABLE IPA_DOCUMENT ADD CONSTRAINT FK1480E7A06B8AA20C FOREIGN KEY(ID) REFERENCES IPA_NODE(ID)
ALTER TABLE IPA_DOCUMENT_ENVIAMENT ADD CONSTRAINT IPA_EXPEDIENT_DOCENV_FK FOREIGN KEY(EXPEDIENT_ID) REFERENCES IPA_EXPEDIENT(ID)
ALTER TABLE IPA_DOCUMENT_ENVIAMENT ADD CONSTRAINT FKC49413C4F10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_DOCUMENT_ENVIAMENT ADD CONSTRAINT FKC49413C4E9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_ENTITAT ADD CONSTRAINT FK4D8B1AE4F10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_ENTITAT ADD CONSTRAINT FK4D8B1AE4E9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_ESCRIPTORI ADD CONSTRAINT IPA_USUARI_ESCRIPTORI_FK FOREIGN KEY(USUARI_ID) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_EXPEDIENT ADD CONSTRAINT FK4AB163796B8AA20C FOREIGN KEY(ID) REFERENCES IPA_NODE(ID)
ALTER TABLE IPA_INTERESSAT ADD CONSTRAINT FKC92B1661F10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_INTERESSAT ADD CONSTRAINT FKC92B1661E9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METADADA ADD CONSTRAINT FKC6518FC4F10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METADADA ADD CONSTRAINT FKC6518FC4E9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METADOCUMENT ADD CONSTRAINT FK3EB5E2546857BF1 FOREIGN KEY(ID) REFERENCES IPA_METANODE(ID)
ALTER TABLE IPA_METAEXP_SEQ ADD CONSTRAINT FKEA38C8F3F10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METAEXP_SEQ ADD CONSTRAINT FKEA38C8F3E9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METAEXP_SEQ ADD CONSTRAINT IPA_METAEXP_METAEXPSEQ_FK FOREIGN KEY(META_EXPEDIENT_ID) REFERENCES IPA_METAEXPEDIENT(ID)
ALTER TABLE IPA_METAEXPEDIENT ADD CONSTRAINT FK4895BD9446857BF1 FOREIGN KEY(ID) REFERENCES IPA_METANODE(ID)
ALTER TABLE IPA_METAEXPEDIENT_METADOCUMENT ADD CONSTRAINT FKFDAD6EEBF10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METAEXPEDIENT_METADOCUMENT ADD CONSTRAINT FKFDAD6EEBE9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METANODE ADD CONSTRAINT FKC656500CF10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METANODE ADD CONSTRAINT FKC656500CE9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METANODE_METADADA ADD CONSTRAINT FK4BC7A812F10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_METANODE_METADADA ADD CONSTRAINT FK4BC7A812E9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_REGISTRE ADD CONSTRAINT IPA_REGLA_REGISTRE_FK FOREIGN KEY(REGLA_ID) REFERENCES IPA_REGLA(ID)
ALTER TABLE IPA_REGISTRE_ANNEX ADD CONSTRAINT FK48570183F10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_REGISTRE_ANNEX ADD CONSTRAINT FK48570183E9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_REGISTRE_INTER ADD CONSTRAINT FK48C7D40BF10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_REGISTRE_INTER ADD CONSTRAINT FK48C7D40BE9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_REGLA ADD CONSTRAINT FKF663F0A4F10A12AA FOREIGN KEY(LASTMODIFIEDBY_CODI) REFERENCES IPA_USUARI(CODI)
ALTER TABLE IPA_REGLA ADD CONSTRAINT FKF663F0A4E9BD5701 FOREIGN KEY(CREATEDBY_CODI) REFERENCES IPA_USUARI(CODI)

